[gd_scene load_steps=8 format=3 uid="uid://oe45ykrbe3jt"]

[ext_resource type="Script" path="res://08_SUBSCENES/Oddity/Followers/Register_oddity.gd" id="1_ru4xl"]
[ext_resource type="Script" path="res://08_SUBSCENES/Oddity/Followers/Movable_oddity.gd" id="2_2epwx"]
[ext_resource type="Resource" uid="uid://ci3v8jfejrgk6" path="res://08_SUBSCENES/Oddity/01_data/Followers_data.tres" id="3_u1jr6"]
[ext_resource type="PackedScene" uid="uid://b3e0cgra0jrsb" path="res://08_SUBSCENES/Model/ODDITY/Peon_oddity_v01.blend" id="6_va7sw"]
[ext_resource type="Material" uid="uid://d2t0ju6dynwgf" path="res://05_SHADER_TEST/Subscene_materials/oddity_mirror.tres" id="7_f6nym"]

[sub_resource type="GDScript" id="GDScript_u7ou3"]
script/source = "extends Area3D


@onready var root = $\".\"

signal follow
signal register
signal kill

"

[sub_resource type="SphereShape3D" id="SphereShape3D_adr80"]
radius = 0.808998

[node name="Movable_Oddity_example" type="Area3D"]
collision_layer = 4
collision_mask = 4
script = SubResource("GDScript_u7ou3")

[node name="Register" type="Node" parent="."]
script = ExtResource("1_ru4xl")
_Oddity_data = ExtResource("3_u1jr6")

[node name="Movable_oddity" type="Node" parent="."]
script = ExtResource("2_2epwx")
position_from_player = Vector3(0.25, 0.55, 0)
speed = 1.0

[node name="Random_range_update" type="Timer" parent="Movable_oddity"]
wait_time = 0.5
autostart = true

[node name="Wait_before_follow" type="Timer" parent="Movable_oddity"]
wait_time = 0.25
one_shot = true

[node name="col" type="CollisionShape3D" parent="."]
shape = SubResource("SphereShape3D_adr80")

[node name="msh_oddity_peon" parent="." instance=ExtResource("6_va7sw")]
transform = Transform3D(0.0244782, 0, 0, 0, 0.0244782, 0, 0, 0, 0.0244782, 0, 0, 0)

[node name="msh_oddity_peon" parent="msh_oddity_peon" index="0"]
layers = 4
cast_shadow = 0
gi_mode = 0
surface_material_override/0 = ExtResource("7_f6nym")

[connection signal="body_entered" from="." to="Movable_oddity" method="_on_movable_oddity_example_body_entered"]
[connection signal="body_exited" from="." to="Movable_oddity" method="_on_movable_oddity_example_body_exited"]
[connection signal="follow" from="." to="Movable_oddity" method="_follow"]
[connection signal="kill" from="." to="Register" method="_on_movable_oddity_example_kill"]
[connection signal="register" from="." to="Register" method="_on_register"]
[connection signal="tree_exited" from="Movable_oddity" to="Movable_oddity" method="_on_tree_exited"]
[connection signal="timeout" from="Movable_oddity/Random_range_update" to="Movable_oddity" method="_on_random_range_update_timeout"]
[connection signal="timeout" from="Movable_oddity/Wait_before_follow" to="Movable_oddity" method="_on_wait_before_follow_timeout"]

[editable path="msh_oddity_peon"]
