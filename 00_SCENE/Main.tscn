[gd_scene load_steps=18 format=3 uid="uid://cb8k68mtsigvd"]

[ext_resource type="Script" path="res://00_SYSTEMS/Global_datas.gd" id="1_64l51"]
[ext_resource type="Script" path="res://06_UI/Color_management/Color_Managers.gd" id="3_r6ky2"]
[ext_resource type="Resource" uid="uid://bdc7qt8b3h6ja" path="res://06_UI/Color_management/Main_Color_01.tres" id="4_wremn"]
[ext_resource type="Material" uid="uid://cndqni443mbf" path="res://00_PLAYER/Boat/Boat_mat.tres" id="5_aps83"]
[ext_resource type="Script" path="res://13_TOOLS_UI/Hide_cursor.gd" id="5_gq6ao"]
[ext_resource type="Script" path="res://00_SYSTEMS/KeyOrPad/Controllers_inputs_Type.gd" id="6_wmkcm"]
[ext_resource type="Script" path="res://00_SYSTEMS/BackCall_return.gd" id="7_wpew2"]
[ext_resource type="PackedScene" uid="uid://cein0q2eirkay" path="res://10_BOARD/04_board.tscn" id="8_musfb"]
[ext_resource type="Script" path="res://100_GAME_MENU/Set_Resolution.gd" id="8_slpjd"]
[ext_resource type="PackedScene" uid="uid://dpl12cginnwpp" path="res://14_ON_SCANNER_PHOTO/06_on_scanner_photo.tscn" id="12_7ffm2"]
[ext_resource type="PackedScene" uid="uid://bemddl0bqqfwo" path="res://100_GAME_MENU/08_game_menu.tscn" id="12_16nd2"]
[ext_resource type="PackedScene" uid="uid://bwmu5iwushsl5" path="res://13_TOOLS_UI/07_screen_tools.tscn" id="18_akagp"]
[ext_resource type="PackedScene" uid="uid://cnmptm7i0xxmj" path="res://00_SCENE/02_main_scenes.tscn" id="18_gvi4q"]
[ext_resource type="PackedScene" uid="uid://bbp1ccoa6te1g" path="res://11_SPEAKER/05_speaker_02.tscn" id="18_l1ne5"]
[ext_resource type="PackedScene" uid="uid://nigmie4bbn6" path="res://08_SUBSCENES/03_subscenes.tscn" id="19_cnotd"]

[sub_resource type="GDScript" id="GDScript_7v3dw"]
script/source = "extends Node

@export var active_prologue_demo : bool = false


func _ready():
	
	$Timer.start()	

func _on_timer_timeout():
	if active_prologue_demo:
		_global_datas.active_prologue_demo.emit()
		_global_datas.player_active_tools.emit(false)
	else:
		_global_datas.player_active_tools.emit(true)	
		
"

[sub_resource type="GDScript" id="GDScript_gl82p"]
script/source = "extends Node

@export var lock_fps = false
@export var fps_target : int = 60

func _ready():
	if lock_fps:
		Engine.set_max_fps(fps_target)
	
func _input(event):
	
	if event.is_action_pressed(\"Go_subscene_debug\"):
		_global_datas.cell_name = \"E4\"
		_global_datas._load_subscene.emit(true)
		_global_datas._go_Subscene.emit()
	

	if event.is_action_pressed(\"Demo\"):
		_global_datas.active_prologue_demo.emit()
		_global_datas.player_active_tools.emit(false)
"

[node name="Main" type="Node"]
metadata/_edit_horizontal_guides_ = [-31.0]

[node name="01_GAME_MANAGERS" type="Node" parent="."]
script = ExtResource("1_64l51")

[node name="GAME_STATES" type="Node" parent="01_GAME_MANAGERS"]

[node name="Prologue_demo" type="Node" parent="01_GAME_MANAGERS/GAME_STATES"]
script = SubResource("GDScript_7v3dw")

[node name="Timer" type="Timer" parent="01_GAME_MANAGERS/GAME_STATES/Prologue_demo"]
wait_time = 0.1
one_shot = true

[node name="DEBUG_STATE" type="Node" parent="01_GAME_MANAGERS"]
script = SubResource("GDScript_gl82p")
fps_target = 120

[node name="Color_Managers" type="Node" parent="01_GAME_MANAGERS"]
script = ExtResource("3_r6ky2")
ColorRessource = ExtResource("4_wremn")
KeepInFocus = ExtResource("5_aps83")

[node name="Hide_cursor" type="Node" parent="01_GAME_MANAGERS"]
script = ExtResource("5_gq6ao")

[node name="Controllers_inputs_Type" type="Node" parent="01_GAME_MANAGERS"]
script = ExtResource("6_wmkcm")

[node name="Backcall_input" type="Node" parent="01_GAME_MANAGERS"]
process_mode = 3
script = ExtResource("7_wpew2")

[node name="Options" type="Node" parent="01_GAME_MANAGERS"]

[node name="Set_Resolution" type="Node" parent="01_GAME_MANAGERS/Options"]
script = ExtResource("8_slpjd")

[node name="02_MAIN_SCENES" parent="." instance=ExtResource("18_gvi4q")]

[node name="03_SUBSCENES" parent="." instance=ExtResource("19_cnotd")]
metadata/_edit_vertical_guides_ = [962.0]
metadata/_edit_horizontal_guides_ = [542.0]

[node name="04_BOARD" parent="." instance=ExtResource("8_musfb")]

[node name="05_SPEAKER" parent="." instance=ExtResource("18_l1ne5")]

[node name="06_ON_SCANNER_PHOTO" parent="." instance=ExtResource("12_7ffm2")]

[node name="07_SCREEN_TOOLS_UI" parent="." instance=ExtResource("18_akagp")]

[node name="08_GAME_MENU" parent="." instance=ExtResource("12_16nd2")]

[connection signal="timeout" from="01_GAME_MANAGERS/GAME_STATES/Prologue_demo/Timer" to="01_GAME_MANAGERS/GAME_STATES/Prologue_demo" method="_on_timer_timeout"]
