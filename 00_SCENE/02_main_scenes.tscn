[gd_scene load_steps=84 format=3 uid="uid://cnmptm7i0xxmj"]

[ext_resource type="PackedScene" uid="uid://vpdvl0v7dubd" path="res://00_PLAYER/Player_boat.tscn" id="1_qltht"]
[ext_resource type="Script" path="res://06_UI/Fps_counter.gd" id="1_s74e5"]
[ext_resource type="Resource" uid="uid://ppxk5i543dfn" path="res://09_NPC/Npc_data/Mr_Birds_data.tres" id="1_trgwt"]
[ext_resource type="Script" path="res://13_TOOLS_UI/set_Resolution_viewports.gd" id="1_xd8sb"]
[ext_resource type="Script" path="res://03_CAMERA/CameraFollow.gd" id="2_7lb1x"]
[ext_resource type="Material" uid="uid://cfd7rt53ee7jp" path="res://05_SHADER_TEST/Full_screen/Foam_dither_viewport.tres" id="3_qcxor"]
[ext_resource type="Shader" uid="uid://bduoqim3kfbs6" path="res://00_PLAYER/Sonar/Sonar_sh.tres" id="3_todel"]
[ext_resource type="Material" uid="uid://ua1gnqwbe2bj" path="res://05_SHADER_TEST/Full_screen/Sonar_dither_viewport.tres" id="4_qh7in"]
[ext_resource type="Shader" uid="uid://bxavm32wwtse2" path="res://05_SHADER_TEST/Clouds_sh.tres" id="5_83wu6"]
[ext_resource type="Material" uid="uid://chlrh834uha8l" path="res://05_SHADER_TEST/Full_screen/Grid_dither_viewport.tres" id="5_jwi16"]
[ext_resource type="PackedScene" uid="uid://crxoyweriianl" path="res://04_SCENE_MAIN_MAP/Grid/grid_map.tscn" id="6_8jesf"]
[ext_resource type="Material" uid="uid://ctnqf5d3uj1g7" path="res://05_SHADER_TEST/All_Materials/dark_mask.tres" id="6_vcmny"]
[ext_resource type="Material" uid="uid://b64juw612xqpu" path="res://05_SHADER_TEST/Sea_sh/Sea_mat.tres" id="7_4y8ld"]
[ext_resource type="Texture2D" uid="uid://dafg2qvpi6wmk" path="res://06_UI/Loader_circle/Loader_circle.png" id="8_eaeqh"]
[ext_resource type="PackedScene" uid="uid://dla1534gcagbl" path="res://04_SCENE_MAIN_MAP/ELEMENTS/Pine/pine_prefabs.tscn" id="10_c6r5x"]
[ext_resource type="PackedScene" uid="uid://cjp6vd8eetmyf" path="res://04_SCENE_MAIN_MAP/ELEMENTS/Iceberg/ice_berg_03.tscn" id="10_h0nl5"]
[ext_resource type="PackedScene" uid="uid://cegdqm3et2y35" path="res://04_SCENE_MAIN_MAP/ELEMENTS/Iceberg/ice_berg_02.tscn" id="11_086vv"]
[ext_resource type="PackedScene" uid="uid://d3h77dy71bcme" path="res://04_SCENE_MAIN_MAP/ELEMENTS/Iceberg/ice_berg_01.tscn" id="12_638yx"]
[ext_resource type="PackedScene" uid="uid://biiofg53lwx38" path="res://04_SCENE_MAIN_MAP/ELEMENTS/Mountain/Mountain_03.tscn" id="14_fqdgl"]
[ext_resource type="PackedScene" uid="uid://bjfuwgxyiffs4" path="res://04_SCENE_MAIN_MAP/ELEMENTS/Mountain/Mountain_01.tscn" id="15_bqwbg"]
[ext_resource type="PackedScene" uid="uid://fcjcvy77lg0o" path="res://04_SCENE_MAIN_MAP/ELEMENTS/Lighthouse/lighthouse_prefabs.tscn" id="16_u78ww"]
[ext_resource type="PackedScene" uid="uid://dnxexehkt6k6v" path="res://04_SCENE_MAIN_MAP/ELEMENTS/Banquise/banquise_01_prefabs.tscn" id="17_4pwgg"]
[ext_resource type="Resource" uid="uid://xuxu60afj84h" path="res://09_NPC/Npc_data/Guy_02_data.tres" id="18_3k0t8"]
[ext_resource type="Material" uid="uid://dgl2um0yp8e3c" path="res://05_SHADER_TEST/All_Materials/Building_mat.tres" id="20_24d3w"]
[ext_resource type="Material" uid="uid://tp87ec3bsfbe" path="res://05_SHADER_TEST/All_Materials/Yellow_shine.tres" id="20_hh7jv"]
[ext_resource type="PackedScene" uid="uid://cp1aidnp626l4" path="res://04_SCENE_MAIN_MAP/Birds/Birds_prefabs.tscn" id="21_py3bv"]
[ext_resource type="PackedScene" uid="uid://dti7l20thp2rk" path="res://04_SCENE_MAIN_MAP/ELEMENTS/Subscene_elements/epave_zone.tscn" id="23_txlwt"]
[ext_resource type="Resource" uid="uid://bqtier24l2d58" path="res://10_BOARD/Boue/Boue_appicula.tres" id="26_blekg"]
[ext_resource type="Resource" uid="uid://dyrjwnrw6plmp" path="res://10_BOARD/Boue/Boue_DarkHole.tres" id="27_id2vw"]

[sub_resource type="GDScript" id="GDScript_xsqte"]
script/source = "extends Node

var lock_tools = false


func _ready():
	_global_datas.player_active_tools.connect(_unlock)
	
func _unlock(condition):
	lock_tools = condition	

func _input(event: InputEvent) -> void:
	

	if !lock_tools:
		return
		
	if _global_datas.Player_InSubScene:
		return
		
	if _global_datas.Player_InDialogue:
		return				
	
	if event.is_action_released(\"Click\"):
		_global_datas._reseting_clock_disable.emit()
	
		
	if _global_datas.cell_name == \"null\":
		return
		
	if event.is_action_pressed(\"Click\"):
	
		if _global_datas.Player_In_Inventory:
			return		
		_global_datas._reseting_clock_active.emit()
		

		#TO Disable
	if event is InputEventMouseButton:
		if event.button_index == MOUSE_BUTTON_LEFT and not event.pressed:
			_global_datas._reseting_clock_disable.emit()
			
"

[sub_resource type="GDScript" id="GDScript_0xo40"]
script/source = "extends Node


@onready var _1 = $\"../Player_Boat/Sonar/01\"
@onready var _2 = $\"../Player_Boat/Sonar/02\"
@onready var sonar = $\"../Player_Boat/Sonar\"

var t
var is_active = false
var lock_tools = false

func _ready():
	_global_datas._active_sonar.connect(active_sonar)
	
	sonar.scale = Vector3(0.1,0.1,0.1)
	_1.visible = false
	_2.visible = false

	
func active_sonar():
	
	if is_active:
		return
		
	is_active = true
	_1.visible = true
	_2.visible = true
	
	if t:
		t.kill()
	t = create_tween()
	
	t .tween_method(_change_scale,0.0,5.0,1.0).set_trans(Tween.TRANS_SINE)	
	await create_tween().tween_interval(1.0).finished
	_stop()

func _change_scale(value : float):
	sonar.scale = Vector3(value,value,value)
	
func _stop():
	
	sonar.scale = Vector3(0.1,0.1,0.1)
	_1.visible = false
	_2.visible = false
	is_active = false



"

[sub_resource type="GDScript" id="GDScript_55qk3"]
script/source = "extends Node



func _input(event):


	if _global_datas.Player_In_Inventory:
		return

	if _global_datas.Player_InDialogue:
		return
	if event.is_action_pressed(\"Click\"):
		if _global_datas.Npc_Dialogue == null:
			return
		_global_datas._open_dialogue.emit()	
		print(\"OPEN DIALOGUE\")
"

[sub_resource type="GDScript" id="GDScript_ueh7h"]
script/source = "extends Node

@onready var player_boat = $\"../../Player_Boat\"
@export var prologue_position : Vector3


func _ready():
	_global_datas.active_prologue_demo.connect(_state_change)

	
func _state_change():
	player_boat.position = prologue_position

	

"

[sub_resource type="GDScript" id="GDScript_8cfdp"]
script/source = "extends Node

@onready var main_scene_ui = $MAIN_SCENE_UI

@export var all_renders : Array[TextureRect]

func _ready():
	_global_datas._end_ini_subscene.connect(_disable_main)
	_global_datas._backFrom_subscene.connect(_active_main)
	#_global_datas.open_inventory.connect(active_main)


func active_main(conditon : bool):
	for t in all_renders:
		t.visible = !conditon
	
func _active_main():
	main_scene_ui.visible = true
	
func _disable_main():
	main_scene_ui.visible = false
"

[sub_resource type="GDScript" id="GDScript_12o72"]
script/source = "extends Camera3D

func _ready():
	_global_datas.Main_Camera = self


"

[sub_resource type="ViewportTexture" id="ViewportTexture_4iosc"]
viewport_path = NodePath("01_GAME_UI/MAIN_SCENE_UI/Viewports/MAIN_Viewport")

[sub_resource type="ViewportTexture" id="ViewportTexture_y37a4"]
viewport_path = NodePath("01_GAME_UI/MAIN_SCENE_UI/Viewports/FOAM_Viewport")

[sub_resource type="ViewportTexture" id="ViewportTexture_vtvr5"]
viewport_path = NodePath("01_GAME_UI/MAIN_SCENE_UI/Viewports/SONAR_Viewport")

[sub_resource type="ViewportTexture" id="ViewportTexture_tsb8l"]
viewport_path = NodePath("01_GAME_UI/MAIN_SCENE_UI/Viewports/GRID_Viewport")

[sub_resource type="GDScript" id="GDScript_08g8g"]
script/source = "extends TextureRect
@onready var sonar_grid = $\".\"
@onready var opacity : Material = sonar_grid.get_material()


var t

func _ready():
	_global_datas._active_sonar.connect(_show)	
	opacity.set_shader_parameter(\"Opacity\",0.0)
	#_global_datas._active_world_grid.connect(_ckeck_condition)
		
func _ckeck_condition(condition : bool):
	if condition:
		_show()
	else:
		_hide()	
	
	
func _show():


	if t:
		t.kill()
	t = create_tween()
	
	t .tween_method(change_value,0.0,0.25,0.25).set_trans(Tween.TRANS_SINE)	
	await create_tween().tween_interval(0.5).finished
	_hide()

func _hide():
	
	if t:
		t.kill()
	t = create_tween()
	
	var actual_value = opacity.get_shader_parameter(\"Opacity\")
	t .tween_method(change_value,actual_value,0.0,5.0).set_trans(Tween.TRANS_SINE)	
	


func change_value(value : float):
	opacity.set_shader_parameter(\"Opacity\",value)
"

[sub_resource type="ViewportTexture" id="ViewportTexture_dm76q"]
viewport_path = NodePath("01_GAME_UI/MAIN_SCENE_UI/Viewports/SKY_Viewport")

[sub_resource type="GDScript" id="GDScript_hpjin"]
script/source = "extends Node
@onready var button = $Button

func _ready():
	_global_datas.in_dialogue_zone.connect(active_buton)
	_global_datas.out_dialogue_zone.connect(disable_buton)
	_global_datas._open_dialogue.connect(disable_buton)
	

func disable_buton():
	button.visible = false
	_global_datas.Player_InDialogue_zone = false

	
func active_buton():

	button.visible = true
	_global_datas.Player_InDialogue_zone = true


	


"

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_ituqr"]
bounce = 500.0

[sub_resource type="TorusMesh" id="TorusMesh_o3rdy"]
inner_radius = 0.884
outer_radius = 1.074
rings = 32
ring_segments = 16

[sub_resource type="VisualShaderNodeColorParameter" id="VisualShaderNodeColorParameter_3d8c6"]
parameter_name = "Light_color_ui"
qualifier = 1

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_kl0v0"]
constant = 0.4

[sub_resource type="VisualShaderNodeExpression" id="VisualShaderNodeExpression_b8x62"]
size = Vector2(724.789, 654.559)
expression = "const float DITHER_THRESHOLDS[16] ={
		1.0 / 17.0, 9.0 / 17.0, 3.0 / 17.0, 11.0 / 17.0,
		13.0 / 17.0, 5.0 / 17.0, 15.0 / 17.0, 7.0 / 17.0,
		4.0 / 17.0, 12.0 / 17.0, 2.0 / 17.0, 10.0 / 17.0,
		16.0 / 17.0, 8.0 / 17.0, 14.0 / 17.0, 6.0 / 17.0
	};
	
vec2 uv = FRAGCOORD.xy * Size;
int index = (int(uv.x) % 4) * 4 + int(uv.y) % 4;
Dither_Node = In - DITHER_THRESHOLDS[index];"

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_wbs4k"]
parameter_name = "Opacity"
hint = 1
default_value_enabled = true
default_value = 1.0

[sub_resource type="VisualShaderNodeStep" id="VisualShaderNodeStep_s5128"]
default_input_values = [0, 0.3, 1, 0.0]

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_ixdw3"]
constant = 0.8

[sub_resource type="VisualShader" id="VisualShader_yq65t"]
code = "shader_type spatial;
render_mode blend_mix, depth_draw_opaque, cull_back, diffuse_lambert, specular_schlick_ggx, unshaded;

global uniform vec4 Light_color_ui : source_color;



void fragment() {
// ColorParameter:2
	vec4 n_out2p0 = Light_color_ui;


// FloatConstant:7
	float n_out7p0 = 0.800000;


// FloatConstant:3
	float n_out3p0 = 0.400000;


	float n_out4p0;
// Expression:4
	n_out4p0 = 0.0;
	{
		const float DITHER_THRESHOLDS[16] ={
				1.0 / 17.0, 9.0 / 17.0, 3.0 / 17.0, 11.0 / 17.0,
				13.0 / 17.0, 5.0 / 17.0, 15.0 / 17.0, 7.0 / 17.0,
				4.0 / 17.0, 12.0 / 17.0, 2.0 / 17.0, 10.0 / 17.0,
				16.0 / 17.0, 8.0 / 17.0, 14.0 / 17.0, 6.0 / 17.0
			};
			
		vec2 uv = FRAGCOORD.xy * n_out3p0;
		int index = (int(uv.x) % 4) * 4 + int(uv.y) % 4;
		n_out4p0 = n_out7p0 - DITHER_THRESHOLDS[index];
	}


// Step:6
	float n_out6p0 = step(n_out2p0.x, n_out4p0);


// Output:0
	ALBEDO = vec3(n_out2p0.xyz);
	ALPHA = n_out6p0;


}
"
graph_offset = Vector2(-468.563, -114.227)
flags/unshaded = true
nodes/fragment/2/node = SubResource("VisualShaderNodeColorParameter_3d8c6")
nodes/fragment/2/position = Vector2(-760, -40)
nodes/fragment/3/node = SubResource("VisualShaderNodeFloatConstant_kl0v0")
nodes/fragment/3/position = Vector2(-1380, 520)
nodes/fragment/4/node = SubResource("VisualShaderNodeExpression_b8x62")
nodes/fragment/4/position = Vector2(-1200, 380)
nodes/fragment/4/size = Vector2(724.789, 654.559)
nodes/fragment/4/input_ports = "0,0,In;1,0,Size;"
nodes/fragment/4/output_ports = "0,0,Dither_Node;"
nodes/fragment/4/expression = "const float DITHER_THRESHOLDS[16] ={
		1.0 / 17.0, 9.0 / 17.0, 3.0 / 17.0, 11.0 / 17.0,
		13.0 / 17.0, 5.0 / 17.0, 15.0 / 17.0, 7.0 / 17.0,
		4.0 / 17.0, 12.0 / 17.0, 2.0 / 17.0, 10.0 / 17.0,
		16.0 / 17.0, 8.0 / 17.0, 14.0 / 17.0, 6.0 / 17.0
	};
	
vec2 uv = FRAGCOORD.xy * Size;
int index = (int(uv.x) % 4) * 4 + int(uv.y) % 4;
Dither_Node = In - DITHER_THRESHOLDS[index];"
nodes/fragment/5/node = SubResource("VisualShaderNodeFloatParameter_wbs4k")
nodes/fragment/5/position = Vector2(-1780, 400)
nodes/fragment/6/node = SubResource("VisualShaderNodeStep_s5128")
nodes/fragment/6/position = Vector2(-351.825, 215.819)
nodes/fragment/7/node = SubResource("VisualShaderNodeFloatConstant_ixdw3")
nodes/fragment/7/position = Vector2(-1440, 360)
nodes/fragment/connections = PackedInt32Array(3, 0, 4, 1, 4, 0, 6, 1, 6, 0, 0, 1, 7, 0, 4, 0, 2, 0, 0, 0, 2, 0, 6, 0)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_v75yl"]
render_priority = 0
shader = SubResource("VisualShader_yq65t")

[sub_resource type="VisualShaderNodeProximityFade" id="VisualShaderNodeProximityFade_dnk0e"]
default_input_values = [0, 1.5]

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_hh02i"]
function = 31

[sub_resource type="VisualShaderNodeColorParameter" id="VisualShaderNodeColorParameter_5t4il"]
parameter_name = "Sonar_color"
default_value_enabled = true

[sub_resource type="VisualShaderNodeExpression" id="VisualShaderNodeExpression_upo43"]
size = Vector2(634.014, 470.339)
expression = "const float DITHER_THRESHOLDS[16] ={
		1.0 / 17.0, 9.0 / 17.0, 3.0 / 17.0, 11.0 / 17.0,
		13.0 / 17.0, 5.0 / 17.0, 15.0 / 17.0, 7.0 / 17.0,
		4.0 / 17.0, 12.0 / 17.0, 2.0 / 17.0, 10.0 / 17.0,
		16.0 / 17.0, 8.0 / 17.0, 14.0 / 17.0, 6.0 / 17.0
	};
	
vec2 uv = FRAGCOORD.xy * Size;
int index = (int(uv.x) % 4) * 4 + int(uv.y) % 4;
Dither_Node = In - DITHER_THRESHOLDS[index];"

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_cgibr"]
constant = 0.4

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_mms8m"]
constant = 1.044

[sub_resource type="VisualShaderNodeStep" id="VisualShaderNodeStep_txsxr"]

[sub_resource type="VisualShader" id="VisualShader_f73p6"]
code = "shader_type spatial;
render_mode blend_mix, depth_draw_never, cull_front, diffuse_lambert, specular_schlick_ggx, unshaded;

uniform vec4 Sonar_color : source_color = vec4(1.000000, 1.000000, 1.000000, 1.000000);
uniform sampler2D depth_tex_frg_37 : hint_depth_texture;



void fragment() {
// ColorParameter:44
	vec4 n_out44p0 = Sonar_color;


// FloatConstant:47
	float n_out47p0 = 1.044000;


// FloatConstant:46
	float n_out46p0 = 0.400000;


	float n_out45p0;
// Expression:45
	n_out45p0 = 0.0;
	{
		const float DITHER_THRESHOLDS[16] ={
				1.0 / 17.0, 9.0 / 17.0, 3.0 / 17.0, 11.0 / 17.0,
				13.0 / 17.0, 5.0 / 17.0, 15.0 / 17.0, 7.0 / 17.0,
				4.0 / 17.0, 12.0 / 17.0, 2.0 / 17.0, 10.0 / 17.0,
				16.0 / 17.0, 8.0 / 17.0, 14.0 / 17.0, 6.0 / 17.0
			};
			
		vec2 uv = FRAGCOORD.xy * n_out46p0;
		int index = (int(uv.x) % 4) * 4 + int(uv.y) % 4;
		n_out45p0 = n_out47p0 - DITHER_THRESHOLDS[index];
	}


	float n_out37p0;
// ProximityFade:37
	float n_in37p0 = 1.50000;
	{
		float __depth_tex = texture(depth_tex_frg_37, SCREEN_UV).r;
		vec4 __depth_world_pos = INV_PROJECTION_MATRIX * vec4(SCREEN_UV * 2.0 - 1.0, __depth_tex, 1.0);
		__depth_world_pos.xyz /= __depth_world_pos.w;
		n_out37p0 = clamp(1.0 - smoothstep(__depth_world_pos.z + n_in37p0, __depth_world_pos.z, VERTEX.z), 0.0, 1.0);
	}


// FloatFunc:43
	float n_out43p0 = 1.0 - n_out37p0;


// Step:48
	float n_out48p0 = step(n_out45p0, n_out43p0);


// Output:0
	ALBEDO = vec3(n_out44p0.xyz);
	ALPHA = n_out48p0;


}
"
modes/depth_draw = 2
modes/cull = 1
flags/unshaded = true
nodes/fragment/0/position = Vector2(1060, 200)
nodes/fragment/37/node = SubResource("VisualShaderNodeProximityFade_dnk0e")
nodes/fragment/37/position = Vector2(0, 80)
nodes/fragment/43/node = SubResource("VisualShaderNodeFloatFunc_hh02i")
nodes/fragment/43/position = Vector2(280, 60)
nodes/fragment/44/node = SubResource("VisualShaderNodeColorParameter_5t4il")
nodes/fragment/44/position = Vector2(120, -260)
nodes/fragment/45/node = SubResource("VisualShaderNodeExpression_upo43")
nodes/fragment/45/position = Vector2(-200, 460)
nodes/fragment/45/size = Vector2(634.014, 470.339)
nodes/fragment/45/input_ports = "0,4,noise;1,0,In;2,0,Size;"
nodes/fragment/45/output_ports = "0,0,Dither_Node;"
nodes/fragment/45/expression = "const float DITHER_THRESHOLDS[16] ={
		1.0 / 17.0, 9.0 / 17.0, 3.0 / 17.0, 11.0 / 17.0,
		13.0 / 17.0, 5.0 / 17.0, 15.0 / 17.0, 7.0 / 17.0,
		4.0 / 17.0, 12.0 / 17.0, 2.0 / 17.0, 10.0 / 17.0,
		16.0 / 17.0, 8.0 / 17.0, 14.0 / 17.0, 6.0 / 17.0
	};
	
vec2 uv = FRAGCOORD.xy * Size;
int index = (int(uv.x) % 4) * 4 + int(uv.y) % 4;
Dither_Node = In - DITHER_THRESHOLDS[index];"
nodes/fragment/46/node = SubResource("VisualShaderNodeFloatConstant_cgibr")
nodes/fragment/46/position = Vector2(-460, 520)
nodes/fragment/47/node = SubResource("VisualShaderNodeFloatConstant_mms8m")
nodes/fragment/47/position = Vector2(-460, 420)
nodes/fragment/48/node = SubResource("VisualShaderNodeStep_txsxr")
nodes/fragment/48/position = Vector2(760, 300)
nodes/fragment/connections = PackedInt32Array(37, 0, 43, 0, 46, 0, 45, 2, 47, 0, 45, 1, 44, 0, 0, 0, 43, 0, 48, 1, 48, 0, 0, 1, 45, 0, 48, 0)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_1cmcm"]
render_priority = 1
shader = SubResource("VisualShader_f73p6")
shader_parameter/Sonar_color = Color(1, 1, 1, 1)

[sub_resource type="SphereMesh" id="SphereMesh_pgy1w"]
material = SubResource("ShaderMaterial_1cmcm")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_kcje2"]
render_priority = 1
shader = ExtResource("3_todel")
shader_parameter/Sonar_color = Color(1, 1, 1, 1)

[sub_resource type="SphereMesh" id="SphereMesh_56jr0"]
material = SubResource("ShaderMaterial_kcje2")

[sub_resource type="SphereShape3D" id="SphereShape3D_x2n16"]
radius = 1.22447

[sub_resource type="SphereShape3D" id="SphereShape3D_yt2xy"]
radius = 0.990634

[sub_resource type="GDScript" id="GDScript_mdv56"]
script/source = "extends Node

@onready var timer = $Timer
@onready var go_subscene_progress = $\"..\"


func _ready():
	_global_datas._reseting_clock_active.connect(_active_reset)
	_global_datas._reseting_clock_disable.connect(_disable_reset)

		
func _active_reset():
	_start_clock()

func _disable_reset():
	_stop_clock()

func _process(delta):
	
	if timer.is_stopped():
		return		
	_update_clock()
	

func _update_clock():
	var timeConvert = 1 - (timer.time_left / timer.wait_time ) 
	go_subscene_progress.value = lerp(0.0,100.0,timeConvert)
	
func _start_clock():
	go_subscene_progress.value = 0.0
	timer.start()
	
func _stop_clock():
	
	timer.stop()
	go_subscene_progress.value = 0.0
	
func _on_timer_timeout():
	_global_datas._reseting_clock_disable.emit()
	go_subscene_progress.value = 0.0
	_global_datas._go_Subscene.emit()
"

[sub_resource type="GDScript" id="GDScript_i66w8"]
script/source = "extends Node
"

[sub_resource type="GDScript" id="GDScript_w8xnd"]
script/source = "extends Area3D

@export var Npc_data : Npc_datas
@export var hide_this : Node3D
var _active : bool = false

func _ready():
	_global_datas._open_dialogue.connect(_hide)
	_global_datas._close_dialogue.connect(_show)

func _hide():
	if _active:
		if hide_this:
			hide_this.visible = false

func _show():
	
	if _active:
		if hide_this:
			hide_this.visible = true	
			
		if Npc_data.name == \"MrBird\":
			queue_free()

				
func _on_area_entered(_area):
	_active = true
	_global_datas.Npc_Dialogue = Npc_data
	
	if Npc_data.name == \"MrBird\":
		_global_datas._open_dialogue.emit()
	else :
		_global_datas.in_dialogue_zone.emit()
	

func _on_area_exited(_area):
	_global_datas.Npc_Dialogue = null
	_global_datas.out_dialogue_zone.emit()
	_active = false
"

[sub_resource type="SphereShape3D" id="SphereShape3D_jvty4"]
radius = 0.352078

[sub_resource type="CapsuleMesh" id="CapsuleMesh_lb2xn"]

[sub_resource type="BoxMesh" id="BoxMesh_jmuil"]

[sub_resource type="BoxMesh" id="BoxMesh_ujnfl"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_8p064"]
render_priority = 0
shader = ExtResource("5_83wu6")

[sub_resource type="PlaneMesh" id="PlaneMesh_k8245"]
material = SubResource("ShaderMaterial_8p064")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_2pkhh"]
render_priority = 0
shader = ExtResource("5_83wu6")

[sub_resource type="VisualShaderNodeColorParameter" id="VisualShaderNodeColorParameter_kdi3x"]
parameter_name = "Dark_color"
qualifier = 1

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_71s6s"]
default_input_values = [0, 0.0, 1, 0.435]
operator = 2

[sub_resource type="VisualShader" id="VisualShader_lshfh"]
code = "shader_type spatial;
render_mode blend_mix, depth_draw_opaque, cull_back, diffuse_lambert, specular_schlick_ggx;

global uniform vec4 Dark_color : source_color;



void fragment() {
// ColorParameter:2
	vec4 n_out2p0 = Dark_color;


// Output:0
	ALBEDO = vec3(n_out2p0.xyz);


}
"
graph_offset = Vector2(-510.588, -44.4915)
nodes/fragment/2/node = SubResource("VisualShaderNodeColorParameter_kdi3x")
nodes/fragment/2/position = Vector2(-272.177, 153.732)
nodes/fragment/3/node = SubResource("VisualShaderNodeFloatOp_71s6s")
nodes/fragment/3/position = Vector2(156.284, 335.958)
nodes/fragment/connections = PackedInt32Array(2, 0, 0, 0)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qtam4"]
render_priority = 0
shader = SubResource("VisualShader_lshfh")

[sub_resource type="PlaneMesh" id="PlaneMesh_7ftl5"]
material = SubResource("ShaderMaterial_qtam4")
size = Vector2(30, 30)

[sub_resource type="BoxMesh" id="BoxMesh_hogrq"]
material = ExtResource("6_vcmny")
size = Vector3(30, 0, 30)

[sub_resource type="BoxMesh" id="BoxMesh_wmrfd"]
material = ExtResource("7_4y8ld")
size = Vector3(30, 0, 30)

[node name="02_MAIN_SCENES" type="Node"]

[node name="set_Resolution" type="Node" parent="." node_paths=PackedStringArray("viewports")]
script = ExtResource("1_xd8sb")
viewports = [NodePath("../01_GAME_UI/MAIN_SCENE_UI/Viewports/MAIN_Viewport"), NodePath("../01_GAME_UI/MAIN_SCENE_UI/Viewports/FOAM_Viewport"), NodePath("../01_GAME_UI/MAIN_SCENE_UI/Viewports/SONAR_Viewport"), NodePath("../01_GAME_UI/MAIN_SCENE_UI/Viewports/GRID_Viewport"), NodePath("../01_GAME_UI/MAIN_SCENE_UI/Viewports/SKY_Viewport")]

[node name="Push_to_subscene" type="Node" parent="."]
script = SubResource("GDScript_xsqte")

[node name="Sonar_behaviour" type="Node" parent="."]
script = SubResource("GDScript_0xo40")

[node name="Open_Dialogue" type="Node" parent="."]
script = SubResource("GDScript_55qk3")

[node name="GAME_STATE" type="Node" parent="."]

[node name="Prologue" type="Node" parent="GAME_STATE"]
script = SubResource("GDScript_ueh7h")
prologue_position = Vector3(-21, 0, 7)

[node name="01_GAME_UI" type="Node" parent="." node_paths=PackedStringArray("all_renders")]
script = SubResource("GDScript_8cfdp")
all_renders = [NodePath("MAIN_SCENE_UI/Viewports/MAIN"), NodePath("MAIN_SCENE_UI/Viewports/FOAM"), NodePath("MAIN_SCENE_UI/Viewports/SONAR"), NodePath("MAIN_SCENE_UI/Viewports/GRID"), NodePath("MAIN_SCENE_UI/Viewports/SKY")]

[node name="FPS_COUNTER" type="Label" parent="01_GAME_UI"]
z_index = 1
offset_left = 14.0
offset_top = 10.0
offset_right = 121.0
offset_bottom = 36.0
text = "FPS COUNTER"
script = ExtResource("1_s74e5")

[node name="MAIN_SCENE_UI" type="Control" parent="01_GAME_UI"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="All_Cam_Move" type="Node" parent="01_GAME_UI/MAIN_SCENE_UI" node_paths=PackedStringArray("_all_cam_array")]
script = ExtResource("2_7lb1x")
_all_cam_array = [NodePath("../CAM_MAIN_RAYCAST"), NodePath("../Viewports/MAIN_Viewport/CAM_STATE_MAIN"), NodePath("../Viewports/FOAM_Viewport/CAM_STATE_FOAM"), NodePath("../Viewports/SONAR_Viewport/CAM_STATE_SONAR"), NodePath("../Viewports/GRID_Viewport/CAM_STATE_GRID"), NodePath("../Viewports/SKY_Viewport/CAM_STATE_SKY")]

[node name="CAM_MAIN_RAYCAST" type="Camera3D" parent="01_GAME_UI/MAIN_SCENE_UI"]
transform = Transform3D(1, 0, 0, 0, 0.882947, 0.469472, 0, -0.469472, 0.882947, 0, 16.056, 29.059)
cull_mask = 0
fov = 10.2
script = SubResource("GDScript_12o72")

[node name="Viewports" type="Node" parent="01_GAME_UI/MAIN_SCENE_UI"]

[node name="MAIN_Viewport" type="SubViewport" parent="01_GAME_UI/MAIN_SCENE_UI/Viewports"]
mesh_lod_threshold = 0.0
canvas_item_default_texture_filter = 0
size = Vector2i(1920, 1080)

[node name="CAM_STATE_MAIN" type="Camera3D" parent="01_GAME_UI/MAIN_SCENE_UI/Viewports/MAIN_Viewport"]
transform = Transform3D(1, 0, 0, 0, 0.882947, 0.469472, 0, -0.469472, 0.882947, 0, 16.056, 29.059)
cull_mask = 17
current = true
fov = 10.2

[node name="FOAM_Viewport" type="SubViewport" parent="01_GAME_UI/MAIN_SCENE_UI/Viewports"]
canvas_item_default_texture_filter = 0
size = Vector2i(1920, 1080)

[node name="CAM_STATE_FOAM" type="Camera3D" parent="01_GAME_UI/MAIN_SCENE_UI/Viewports/FOAM_Viewport"]
transform = Transform3D(1, 0, 0, 0, 0.882947, 0.469472, 0, -0.469472, 0.882947, 0, 16.056, 29.059)
cull_mask = 3072
fov = 10.2

[node name="SONAR_Viewport" type="SubViewport" parent="01_GAME_UI/MAIN_SCENE_UI/Viewports"]
scaling_3d_scale = 0.9
canvas_item_default_texture_filter = 0
size = Vector2i(1920, 1080)

[node name="CAM_STATE_SONAR" type="Camera3D" parent="01_GAME_UI/MAIN_SCENE_UI/Viewports/SONAR_Viewport"]
transform = Transform3D(1, 0, 0, 0, 0.882947, 0.469472, 0, -0.469472, 0.882947, 0, 16.056, 29.059)
cull_mask = 24
fov = 10.2

[node name="GRID_Viewport" type="SubViewport" parent="01_GAME_UI/MAIN_SCENE_UI/Viewports"]
canvas_item_default_texture_filter = 0
size = Vector2i(1920, 1080)

[node name="CAM_STATE_GRID" type="Camera3D" parent="01_GAME_UI/MAIN_SCENE_UI/Viewports/GRID_Viewport"]
transform = Transform3D(1, 0, 0, 0, 0.882947, 0.469472, 0, -0.469472, 0.882947, 0, 16.056, 29.059)
cull_mask = 65
current = true
fov = 10.2

[node name="SKY_Viewport" type="SubViewport" parent="01_GAME_UI/MAIN_SCENE_UI/Viewports"]
transparent_bg = true
canvas_item_default_texture_filter = 0
size = Vector2i(1920, 1080)

[node name="CAM_STATE_SKY" type="Camera3D" parent="01_GAME_UI/MAIN_SCENE_UI/Viewports/SKY_Viewport"]
transform = Transform3D(1, 0, 0, 0, 0.882947, 0.469472, 0, -0.469472, 0.882947, 0, 16.056, 29.059)
cull_mask = 8192
fov = 10.2

[node name="MAIN" type="TextureRect" parent="01_GAME_UI/MAIN_SCENE_UI/Viewports"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = SubResource("ViewportTexture_4iosc")

[node name="FOAM" type="TextureRect" parent="01_GAME_UI/MAIN_SCENE_UI/Viewports"]
material = ExtResource("3_qcxor")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = SubResource("ViewportTexture_y37a4")

[node name="SONAR" type="TextureRect" parent="01_GAME_UI/MAIN_SCENE_UI/Viewports"]
material = ExtResource("4_qh7in")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = SubResource("ViewportTexture_vtvr5")

[node name="GRID" type="TextureRect" parent="01_GAME_UI/MAIN_SCENE_UI/Viewports"]
material = ExtResource("5_jwi16")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = SubResource("ViewportTexture_tsb8l")
script = SubResource("GDScript_08g8g")

[node name="SKY" type="TextureRect" parent="01_GAME_UI/MAIN_SCENE_UI/Viewports"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = SubResource("ViewportTexture_dm76q")

[node name="Button_active_Dialogue" type="Node" parent="01_GAME_UI/MAIN_SCENE_UI"]
script = SubResource("GDScript_hpjin")

[node name="Button" type="Control" parent="01_GAME_UI/MAIN_SCENE_UI/Button_active_Dialogue"]
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="ColorRect2" type="ColorRect" parent="01_GAME_UI/MAIN_SCENE_UI/Button_active_Dialogue/Button"]
layout_mode = 0
offset_left = 934.978
offset_top = 458.0
offset_right = 1084.98
offset_bottom = 532.505
rotation = 1.17948
scale = Vector2(0.577567, 0.231991)
color = Color(0.952941, 0.815686, 0.690196, 1)

[node name="ColorRect3" type="ColorRect" parent="01_GAME_UI/MAIN_SCENE_UI/Button_active_Dialogue/Button"]
layout_mode = 0
offset_left = 956.978
offset_top = 456.0
offset_right = 1106.98
offset_bottom = 530.505
rotation = 1.43593
scale = Vector2(0.577567, 0.231991)
color = Color(0.952941, 0.815686, 0.690196, 1)

[node name="ColorRect" type="ColorRect" parent="01_GAME_UI/MAIN_SCENE_UI/Button_active_Dialogue/Button"]
layout_mode = 0
offset_left = 839.0
offset_top = 434.0
offset_right = 989.0
offset_bottom = 508.505
color = Color(0.952941, 0.815686, 0.690196, 1)

[node name="Label" type="Label" parent="01_GAME_UI/MAIN_SCENE_UI/Button_active_Dialogue/Button/ColorRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(0.129412, 0.25098, 0.254902, 1)
theme_override_font_sizes/font_size = 40
text = "..."
horizontal_alignment = 1
vertical_alignment = 1

[node name="Player_Boat" parent="." instance=ExtResource("1_qltht")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, 0, 0)
input_ray_pickable = false
mass = 4.0
physics_material_override = SubResource("PhysicsMaterial_ituqr")
max_contacts_reported = 10
move_speed = 5.0
rotation_speed = 2.0

[node name="OmniLight3D2" type="OmniLight3D" parent="Player_Boat"]
transform = Transform3D(1, -3.55271e-15, 0, 2.11758e-22, 0.342545, 0.939501, 0, -0.939501, 0.342545, 0.130404, 3.19906, -0.0379682)
light_indirect_energy = 0.0
light_volumetric_fog_energy = 0.0
light_specular = 0.0
omni_range = 7.0
omni_attenuation = 0.258817

[node name="On_OverMouse_3D_SHAPE" type="MeshInstance3D" parent="Player_Boat"]
transform = Transform3D(1.28483, 0, -2.84217e-14, 0, 0.120588, 0, 2.84217e-14, 0, 1.28483, 0, -0.155876, 0)
visible = false
mesh = SubResource("TorusMesh_o3rdy")
surface_material_override/0 = SubResource("ShaderMaterial_v75yl")

[node name="Sonar" type="Node3D" parent="Player_Boat"]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, 0, 0, 0)

[node name="01" type="Node3D" parent="Player_Boat/Sonar"]
transform = Transform3D(5.52237, 0, 0, 0, 5.52237, 0, 0, 0, 5.52237, 0.049623, -0.743807, -0.269134)
visible = false

[node name="MeshInstance3D" type="MeshInstance3D" parent="Player_Boat/Sonar/01"]
layers = 8
mesh = SubResource("SphereMesh_pgy1w")
skeleton = NodePath("../..")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Player_Boat/Sonar/01"]
layers = 8
mesh = SubResource("SphereMesh_56jr0")
skeleton = NodePath("../..")

[node name="02" type="Node3D" parent="Player_Boat/Sonar"]
transform = Transform3D(3.89763, 0.0211405, -0.0748208, -0.0200288, 3.89793, 0.0579978, 0.075126, -0.0576019, 3.89726, 0.049623, -0.743807, -0.269134)
visible = false

[node name="MeshInstance3D" type="MeshInstance3D" parent="Player_Boat/Sonar/02"]
layers = 8
mesh = SubResource("SphereMesh_pgy1w")
skeleton = NodePath("../..")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Player_Boat/Sonar/02"]
layers = 8
mesh = SubResource("SphereMesh_56jr0")
skeleton = NodePath("../..")

[node name="Sonar_Aera" type="Area3D" parent="Player_Boat/Sonar"]
transform = Transform3D(1, 0, -7.10543e-15, 0, 1, 0, 7.10543e-15, 0, 1, 0, 0, 0)
collision_layer = 0
collision_mask = 0
input_ray_pickable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player_Boat/Sonar/Sonar_Aera"]
transform = Transform3D(5.39371, 0, -1.42109e-14, 0, 5.39371, 0, 1.42109e-14, 0, 5.39371, 1.77636e-15, 0, -0.39557)
shape = SubResource("SphereShape3D_x2n16")

[node name="Enter_dialogue_zone" type="Area3D" parent="Player_Boat"]
collision_layer = 3
collision_mask = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player_Boat/Enter_dialogue_zone"]
shape = SubResource("SphereShape3D_yt2xy")

[node name="Go_subscene_progress" type="TextureProgressBar" parent="."]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 19.0
offset_top = 7.0
offset_right = 51.0
offset_bottom = 39.0
grow_horizontal = 2
grow_vertical = 2
fill_mode = 4
nine_patch_stretch = true
texture_under = ExtResource("8_eaeqh")
texture_progress = ExtResource("8_eaeqh")
tint_under = Color(0.658824, 0.470588, 0.27451, 0)
tint_progress = Color(0.658824, 0.470588, 0.27451, 1)

[node name="GoSubscene_timer" type="Node" parent="Go_subscene_progress"]
script = SubResource("GDScript_mdv56")

[node name="Timer" type="Timer" parent="Go_subscene_progress/GoSubscene_timer"]

[node name="--DECOR--" type="Node" parent="."]

[node name="GRID_MAP" type="Node" parent="--DECOR--"]

[node name="GridMap" parent="--DECOR--/GRID_MAP" instance=ExtResource("6_8jesf")]
transform = Transform3D(1.25, 0, 0, 0, 1.25, 0, 0, 0, 1.25, 0, -0.224, 0)
visible = false
cell_size = Vector3(6, 1, 6)
cell_scale = 3.0
data = {
"cells": PackedInt32Array(0, 0, 0, 0, 65535, 0, 0, 65534, 0, 0, 65533, 0, 1, 0, 0, 1, 65535, 0, 1, 65534, 0, 1, 65533, 0, 2, 0, 0, 2, 65535, 0, 2, 65534, 0, 2, 65533, 0, 3, 0, 0, 3, 65535, 0, 3, 65534, 0, 3, 65533, 0, 4, 0, 0, 4, 65535, 0, 4, 65534, 0, 4, 65533, 0, 4, 1, 0, 3, 1, 0, 2, 1, 0, 1, 1, 0, 0, 1, 0, 65535, 1, 0, 65535, 0, 0, 65535, 65535, 0, 65535, 65534, 0, 65535, 65533, 0, 65534, 65533, 0, 65534, 65534, 0, 65534, 65535, 0, 65534, 0, 0, 65534, 1, 0, 4, 2, 0, 3, 2, 0, 2, 2, 0, 1, 2, 0, 0, 2, 0, 65535, 2, 0, 65534, 2, 0, 65533, 2, 0, 65533, 1, 0, 65533, 0, 0, 65533, 65535, 0, 65533, 65534, 0, 65533, 65533, 0)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="VISUAL_CELLS" type="Node" parent="--DECOR--/GRID_MAP"]
script = SubResource("GDScript_i66w8")

[node name="WORLD_ELEMENTS" type="Node" parent="--DECOR--"]

[node name="Pine_prefabs" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(0.0545151, 0, 0.0545151, 0, 0.077096, 0, -0.0545151, 0, 0.0545151, 3.2319, 0.0817456, -2.66318)

[node name="Pine_prefabs9" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(0.0545151, 0, 0.0545151, 0, 0.077096, 0, -0.0545151, 0, 0.0545151, 5.47213, 0.345963, 1.59928)

[node name="Pine_prefabs10" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(0.0579629, 0, 0.0508339, 0, 0.077096, 0, -0.0508339, 0, 0.0579629, 5.78435, 0.603637, 0.491063)

[node name="Pine_prefabs11" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(0.0660738, 0, -0.0397247, 0, 0.077096, 0, 0.0397247, 0, 0.0660738, 5.94377, 0.477386, 1.18782)

[node name="Pine_prefabs12" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(0.016035, 0, -0.049225, 0, 0.0517709, 0, 0.049225, 0, 0.016035, 6.73643, 0.541952, 1.19464)

[node name="Pine_prefabs13" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(0.016035, 0, -0.049225, 0, 0.0517709, 0, 0.049225, 0, 0.016035, 5.26729, 0.401321, 1.21414)

[node name="Pine_prefabs14" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(0.016035, 0, -0.049225, 0, 0.0517709, 0, 0.049225, 0, 0.016035, 6.99264, 0.635002, 0.254115)

[node name="Pine_prefabs15" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(-0.0289184, 0, -0.0429412, 0, 0.0517709, 0, 0.0429412, 0, -0.0289184, 6.49081, 0.446315, 1.27244)

[node name="Pine_prefabs16" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(-0.038259, 0, -0.056811, 0, 0.0684926, 0, 0.056811, 0, -0.038259, 6.63197, 0.340055, 1.60303)

[node name="Pine_prefabs17" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(-0.038259, 0, -0.056811, 0, 0.0684926, 0, 0.056811, 0, -0.038259, 7.39401, 0.561633, 0.471473)

[node name="Pine_prefabs18" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(-0.0313252, 0, -0.046515, 0, 0.0560795, 0, 0.046515, 0, -0.0313252, 7.75434, 0.561633, 1.25328)

[node name="Pine_prefabs19" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(-0.0264121, 0, -0.0392195, 0, 0.0472839, 0, 0.0392195, 0, -0.0264121, 7.96182, 0.62868, 0.739459)

[node name="Pine_prefabs2" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(0.0758118, 0.000890531, -0.0139848, -0.000905554, 0.0770907, 0, 0.0139838, 0.000164263, 0.075817, 3.84225, 0.0817495, -2.88538)

[node name="Pine_prefabs3" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(-0.0557971, 0, 0.0276506, 0, 0.0622726, 0, -0.0276506, 0, -0.0557971, 3.51697, 0.102495, -2.70959)

[node name="Pine_prefabs4" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(0.0469456, 0, 0.0409143, 0, 0.0622726, 0, -0.0409143, 0, 0.0469456, 3.01557, 0.270468, -3.94966)

[node name="Pine_prefabs5" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(0.0324622, 0, 0.0531421, 0, 0.0622726, 0, -0.0531421, 0, 0.0324622, 3.69644, -0.185731, -3.65007)

[node name="Pine_prefabs6" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(-0.018676, 0, 0.0594061, 0, 0.0622726, 0, -0.0594061, 0, -0.018676, 3.57012, 0.438353, -3.23198)

[node name="Pine_prefabs7" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(0.0327151, 0, 0.0529868, 0, 0.0622726, 0, -0.0529868, 0, 0.0327151, 4.64769, 0.359338, -3.5362)

[node name="Pine_prefabs8" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_c6r5x")]
transform = Transform3D(-0.018676, 0, 0.0594061, 0, 0.0622726, 0, -0.0594061, 0, -0.018676, 4.79783, 0.390122, -3.10797)

[node name="IceBerg_06" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_h0nl5")]
transform = Transform3D(0.437557, 0, -0.0971482, 0, 0.448212, 0, 0.0971482, 0, 0.437557, 0.379852, -0.479977, -4.6597)

[node name="IceBerg_07" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("10_h0nl5")]
transform = Transform3D(0.717731, 0, -0.0726512, 0, 0.721399, 0, 0.0726512, 0, 0.717731, -5.977, -0.656455, -3.08)

[node name="IceBerg_05" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("11_086vv")]
transform = Transform3D(0.256164, 0, 0.371844, 0, 0.45154, 0, -0.371844, 0, 0.256164, 5.18118, -0.477896, -2.15945)
layers = 1
cast_shadow = 0

[node name="IceBerg_04" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("12_638yx")]
transform = Transform3D(-0.32981, 0, -0.246846, 0, 0.411956, 0, 0.246846, 0, -0.32981, 8.42354, -0.461466, -2.29614)
layers = 1

[node name="IceBerg_08" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("12_638yx")]
transform = Transform3D(-0.334611, 0, 0.0349742, 0, 0.336434, 0, -0.0349742, 0, -0.334611, 0.135678, -0.414282, 3.39587)
layers = 1

[node name="IceBerg_03" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("14_fqdgl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0521567, -0.215266, -7.01901)

[node name="IceBerg_01" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("15_bqwbg")]
transform = Transform3D(-0.529492, 0, 2.98023e-08, 0, 0.529492, 0, -2.98023e-08, 0, -0.529492, 5.51049, -0.219669, -3.51967)

[node name="IceBerg_10" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("15_bqwbg")]
transform = Transform3D(-0.273803, 0, 2.84997e-08, 0, 0.386791, 0, -1.54109e-08, 0, -0.506349, 3.20761, -0.22111, -3.19881)

[node name="IceBerg_09" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("15_bqwbg")]
transform = Transform3D(-0.529492, 0, 2.98023e-08, 0, 0.529492, 0, -2.98023e-08, 0, -0.529492, 6.28434, -0.228083, 1.37311)

[node name="IceBerg_11" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("15_bqwbg")]
transform = Transform3D(-0.137043, 0, -0.51145, 0, 0.529492, 0, 0.51145, 0, -0.137043, -6.63411, -0.228083, 0.421727)

[node name="IceBerg_12" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("15_bqwbg")]
transform = Transform3D(-0.300319, 0, -1.1208, 0, 1.16034, 0, 1.1208, 0, -0.300319, -9.47565, -0.207551, -0.339665)

[node name="Banquise_02" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("17_4pwgg")]
transform = Transform3D(-0.624077, 0, -0.734248, 0, 0.963635, 0, 0.734248, 0, -0.624077, -3.98623, -0.21875, -1.53876)

[node name="Banquise_07" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("17_4pwgg")]
transform = Transform3D(-2.07321, 0, 0.021965, 0, 2.07333, 0, -0.021965, 0, -2.07321, -7.3006, -0.21875, 7.09551)

[node name="Banquise_03" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("17_4pwgg")]
transform = Transform3D(-3.44011, 0, -1.42649, 0, 3.72414, 0, 1.42649, 0, -3.44011, -15.8757, -0.21875, 0.720535)

[node name="Banquise_06" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("17_4pwgg")]
transform = Transform3D(3.347, 0, -1.63302, 0, 3.72414, 0, 1.63302, 0, 3.347, -9.5005, -0.21875, 10.6072)

[node name="Banquise_04" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("17_4pwgg")]
transform = Transform3D(0.999525, 0, 0.0308178, 0, 1, 0, -0.0308178, 0, 0.999525, -4.61812, -0.215396, -0.382779)

[node name="Banquise_05" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("17_4pwgg")]
transform = Transform3D(-0.522002, 0, 0.559075, 0, 0.764886, 0, -0.559075, 0, -0.522002, -2.36794, -0.216037, -5.03695)

[node name="Lighthouse2" parent="--DECOR--/WORLD_ELEMENTS" instance=ExtResource("16_u78ww")]
transform = Transform3D(-0.271044, 0, 2.89823e-08, 0, 0.271044, 0, -2.89823e-08, 0, -0.271044, 2.95369, 0.241196, -3.30812)

[node name="NPC_TRIGGER_ZONE" type="Node" parent="--DECOR--"]

[node name="NPC_AREA" type="Area3D" parent="--DECOR--/NPC_TRIGGER_ZONE"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.61404, 1.19209e-07, -2.30636)
script = SubResource("GDScript_w8xnd")
Npc_data = ExtResource("18_3k0t8")

[node name="CollisionShape3D" type="CollisionShape3D" parent="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.422843, 0, 0.0136065)
shape = SubResource("SphereShape3D_jvty4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA/CollisionShape3D"]
transform = Transform3D(0.100886, 0, 0, 0, 0.100886, 0, 0, 0, 0.100886, 0.0998006, -0.0219737, -0.0891471)
mesh = SubResource("CapsuleMesh_lb2xn")
surface_material_override/0 = ExtResource("20_hh7jv")

[node name="MeshInstance3D" type="MeshInstance3D" parent="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA"]
transform = Transform3D(0.803273, 0, 0.156978, 0, 0.068, 0, -0.803273, 0, 0.156978, -0.178382, -0.155468, -0.2644)
mesh = SubResource("BoxMesh_jmuil")
surface_material_override/0 = ExtResource("20_24d3w")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA/MeshInstance3D"]
layers = 1032
mesh = SubResource("BoxMesh_ujnfl")
skeleton = NodePath("../..")
surface_material_override/0 = ExtResource("6_vcmny")

[node name="NPC_AREA2" type="Area3D" parent="--DECOR--/NPC_TRIGGER_ZONE" node_paths=PackedStringArray("hide_this")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.98105, 1.07288e-06, 2.31768)
script = SubResource("GDScript_w8xnd")
Npc_data = ExtResource("1_trgwt")
hide_this = NodePath("Birds")

[node name="Birds" parent="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA2" instance=ExtResource("21_py3bv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.643425, 0, 0.626134)

[node name="CollisionShape3D" type="CollisionShape3D" parent="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.484242, 0, 0.113853)
shape = SubResource("SphereShape3D_jvty4")

[node name="NPC_AREA3" type="Area3D" parent="--DECOR--/NPC_TRIGGER_ZONE" node_paths=PackedStringArray("hide_this")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.0813, 1.19209e-07, 5.71347)
script = SubResource("GDScript_w8xnd")
Npc_data = ExtResource("1_trgwt")
hide_this = NodePath("Birds")

[node name="Birds" parent="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA3" instance=ExtResource("21_py3bv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.643425, 0, 0.626134)

[node name="CollisionShape3D" type="CollisionShape3D" parent="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.484242, 0, 0.113853)
shape = SubResource("SphereShape3D_jvty4")

[node name="UNDER_WATER" type="Node" parent="--DECOR--"]

[node name="EPAVE_ZONE" parent="--DECOR--/UNDER_WATER" instance=ExtResource("23_txlwt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.70167, -0.174761, 1.01103)
collision_layer = 2
collision_mask = 2
boue_data = ExtResource("26_blekg")
subscene_index = "A1"

[node name="EPAVE_ZONE2" parent="--DECOR--/UNDER_WATER" instance=ExtResource("23_txlwt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.6219, -0.192537, -2.46462)
collision_layer = 2
collision_mask = 2
boue_data = ExtResource("27_id2vw")
subscene_index = "E4"

[node name="Clouds" type="MeshInstance3D" parent="--DECOR--"]
transform = Transform3D(57.2458, 0, 0, 0, 57.2458, 0, 0, 0, 57.2458, 0, 6.93092, 0)
layers = 8192
mesh = SubResource("PlaneMesh_k8245")
skeleton = NodePath("../../..")
surface_material_override/0 = SubResource("ShaderMaterial_2pkhh")

[node name="SEA" type="Node" parent="--DECOR--"]

[node name="back_color" type="MeshInstance3D" parent="--DECOR--/SEA"]
transform = Transform3D(4.4285, 0, 0, 0, 0.44285, 0, 0, 0, 4.4285, 0.739399, -15.5369, 1.21398)
mesh = SubResource("PlaneMesh_7ftl5")
skeleton = NodePath("")

[node name="Sea_collider" type="MeshInstance3D" parent="--DECOR--/SEA"]
transform = Transform3D(4.4285, 0, 0, 0, 0.44285, 0, 0, 0, 4.4285, 0.739399, -0.40696, 1.21398)
layers = 8
mesh = SubResource("BoxMesh_hogrq")
skeleton = NodePath("../Sea_foam")

[node name="Sea_foam" type="MeshInstance3D" parent="--DECOR--/SEA"]
transform = Transform3D(4.4285, 0, 0, 0, 0.44285, 0, 0, 0, 4.4285, 0.739399, -0.215206, 1.21398)
layers = 2048
mesh = SubResource("BoxMesh_wmrfd")
skeleton = NodePath("")

[connection signal="timeout" from="Go_subscene_progress/GoSubscene_timer/Timer" to="Go_subscene_progress/GoSubscene_timer" method="_on_timer_timeout"]
[connection signal="area_entered" from="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA" to="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA" method="_on_area_entered"]
[connection signal="area_exited" from="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA" to="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA" method="_on_area_exited"]
[connection signal="area_entered" from="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA2" to="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA2" method="_on_area_entered"]
[connection signal="area_exited" from="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA2" to="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA2" method="_on_area_exited"]
[connection signal="area_entered" from="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA3" to="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA3" method="_on_area_entered"]
[connection signal="area_exited" from="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA3" to="--DECOR--/NPC_TRIGGER_ZONE/NPC_AREA3" method="_on_area_exited"]
